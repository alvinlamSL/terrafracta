(this.webpackJsonpterrafracta=this.webpackJsonpterrafracta||[]).push([[0],{80:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),o=(n(80),n(127)),s=n(15),l=n.n(s),d=n(65),u=n(130),p={direction:"ltr",typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},overrides:{MuiLinearProgress:{root:{borderRadius:3,overflow:"hidden"}},MuiListItemIcon:{root:{minWidth:32}},MuiChip:{root:{backgroundColor:"rgba(0,0,0,0.075)"}}}},b=[{name:"ONE_DARK",palette:{type:"dark",action:{active:"rgba(255, 255, 255, 0.54)",hover:"rgba(255, 255, 255, 0.04)",selected:"rgba(255, 255, 255, 0.08)",disabled:"rgba(255, 255, 255, 0.26)",disabledBackground:"rgba(255, 255, 255, 0.12)",focus:"rgba(255, 255, 255, 0.12)"},background:{default:"#282C34",dark:"#1c2025",paper:"#282C34"},primary:{main:"#8a85ff"},secondary:{main:"#8a85ff"},text:{primary:"#e6e5e8",secondary:"#adb0bb"}},shadows:["none","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 2px 2px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 5px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 8px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 9px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 10px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 11px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 12px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 13px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 14px 24px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 16px 28px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 18px 30px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 20px 32px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 22px 34px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 24px 36px -8px rgba(0,0,0,0.50)"]}],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b.find((function(t){return t.name===e.theme}));t||(console.warn(new Error("The theme ".concat(e.theme," is not valid"))),t=b[0]);var n=Object(d.a)(l.a.merge({},p,t,{direction:e.direction}));return e.responsiveFontSizes&&(n=Object(u.a)(n)),n},j=n(119),h=n(20),g=n.n(h),f=n(24),O=n(29),m=n(5),v=function(){var e=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("data/maps/map3.json").then((function(e){return e.json()})),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("data/gameStates/default.json").then((function(e){return e.json()})),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t,n,a){var r=function(e,t){var n="",a=e.row,r=e.col,c=t.row,i=t.col,o=t.name;return o.includes("nw")||o.includes("se")?n=a>c||r>i?"nw":"se":o.includes("sw")||o.includes("ne")?n=a<c||r>i?"sw":"ne":o.includes("n")||o.includes("s")?n=a>c?"n":"s":(o.includes("e")||o.includes("w"))&&(n=r<i?"e":"w"),n}(t,n);return{x:function(e,t,n,a){var r=t.col,c=t.name,i=0;return c.includes("e")&&c.includes("w")?(i=16*a,i=n.includes("w")?16-i:i):c.includes("e")?(i=8*a,i=n.includes("w")?16-i:i+8):c.includes("w")?(i=8*a,i=n.includes("w")?8-i:i):i=8,i+r*e}(e,n,r,a),y:function(e,t,n,a){var r=t.row,c=t.name,i=0;return c.includes("n")&&c.includes("s")?(i=16*a,i=n.includes("n")?16-i:i):c.includes("s")?(i=8*a,i=n.includes("n")?16-i:i+8):c.includes("n")?(i=8*a,i=n.includes("n")?8-i:i):i=8,i+r*e}(e,n,r,a),direction:r}},S=function(e,t,n,a,r){return n.map((function(n){return function(e,t,n,a,r){var c=n.direction,i=n.prevTile,o=n.currTile,s=n.progress;(s+=t*e)>=1&&(s-=1,i=Object(m.a)({},o),o=function(e,t,n){var a=t.name,r=t.row,c=t.col;return a.includes("nw")&&(e.includes("n")||e.includes("w"))?(r-=1,c-=1):a.includes("sw")&&(e.includes("s")||e.includes("w"))?(r+=1,c-=1):a.includes("ne")&&(e.includes("n")||e.includes("e"))?(r-=1,c+=1):a.includes("se")&&(e.includes("s")||e.includes("e"))?(r+=1,c+=1):a.includes("n")&&e.includes("n")?r-=1:a.includes("s")&&e.includes("s")?r+=1:a.includes("e")&&e.includes("e")?c+=1:a.includes("w")&&e.includes("w")&&(c-=1),n.tiles.find((function(e){return e.row===r&&e.col===c&&"tracks"===e.type}))}(c,o,r));var l=w(a,i,o,s),d=(null===r||void 0===r?void 0:r.tiles.find((function(e){return e.row===o.row&&e.col===o.col&&"structures"===e.type})))||"";return Object(m.a)(Object(m.a)(Object(m.a)({},n),l),{},{prevTile:i,currTile:o,currStruct:d,progress:s})}(e,t,n,a,r)}))},T=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,a,r,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return n=e.sent,e.next=5,y();case 5:return a=e.sent,r=a.playerTrain,c=a.playerTrainStats,i=c.speed,a.playerTrain=S(0,i,r,t),e.abrupt("return",{gameMap:n,gameState:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(52),E=n.n(k),A=n(47),M=function(e,t,n){var a=Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({},e),function(e,t){var n=e.speed,a=e.acceleration,r=e.totalWeight,c=e.deccelFactor,i=e.maxSpeed,o=e.fuelType,l=e.brake,d=e.brakeDeccel,u=n*r*c,p=Math.ceil(1e3*u)/1e3;return n=n+(a=0===e[o]?0:a)*t-p*t,l&&(n-=d*t),{speed:n=Object(s.clamp)(n,0,i),decceleration:p}}(e,n)),function(e,t,n){var a,r=e.speed,c=e.energy,i=e.maxenergy,o=e.energyDrain,l=e.energyGainFactor;e.emergencyMode&&(l*=.5);var d=null===(a=t.find((function(e){return"head"===e.type})).currStruct)||void 0===a?void 0:a.energyRate;return d&&0===r&&(c+=d),c+=r*l*n,c-=o*n,{energy:c=Object(s.clamp)(c,0,i)}}(e,t,n)),function(e,t,n){var a,r=e.oxygen,c=e.maxoxygen,i=e.speed,o=null===(a=t.find((function(e){return"head"===e.type})).currStruct)||void 0===a?void 0:a.oxygenRate;return o&&0===i&&(r+=o*n),{oxygen:r=Object(s.clamp)(r,0,c)}}(e,t,n));return a=Object(m.a)(Object(m.a)({},a),function(e,t){var n=e.emergencyMode,a=e.acceleration,r=e.fuelDrainFactor,c=e.fuelType;n&&(c="energy");var i=e[c];return i-=a*r*t,i=Object(s.clamp)(i,0,e["max".concat(c)]),Object(A.a)({},c,i)}(a,n))},N=function(e,t){if(t>.3)return{};var n=e.gameMap,a=e.gridSize,r=e.playerTrain,c=e.playerTrainStats,i=c.speed,o=S(t,i,r,a,n),s=M(c,r,t),l=!1;return 0===s.energy&&(l=!0),{playerTrain:o,playerTrainStats:s,isDead:l}},C=function(e,t){switch(e){case"q":var n=t.maxAcceleration,a=t.acceleration;return{acceleration:a=Object(s.clamp)(a-.05,0,n)};case"e":var r=t.maxAcceleration,c=t.acceleration;return{acceleration:c=Object(s.clamp)(c+.05,0,r)};case"r":return{brake:!t.brake};default:return{}}},z=n(2),D=!0,I={gridSize:16,gameMap:{cols:50,rows:40,tiles:[]},playerTrainStats:{},playerTrain:[],isDead:!1,initialised:!1},W=function(e,t){switch(t.type){case"INITIALISE":var n=t.payload,a=n.gameMap,r=n.gameState;return r.initialised=!0,r.isDead=!1,Object(m.a)(Object(m.a)({},e),{},{gameMap:a},r);case"RESTART_GAME":return Object(m.a)(Object(m.a)({},e),{},{initialised:!1});case"UPDATE_GAME_LOOP":var c=t.payload.deltaTime,i=N(e,c);return Object(m.a)(Object(m.a)({},e),i);case"UPDATE_TRAIN_STATS":var o=Object(m.a)(Object(m.a)({},e.playerTrainStats),t.payload);return Object(m.a)(Object(m.a)({},e),{},{playerTrainStats:o});case"HANDLE_KEYPRESS":var s=t.payload.keypress,l=Object(m.a)(Object(m.a)({},e.playerTrainStats),C(s,e.playerTrainStats));return Object(m.a)(Object(m.a)({},e),{},{playerTrainStats:l});default:return Object(m.a)({},e)}},_=Object(a.createContext)(Object(m.a)(Object(m.a)({},I),{},{updateAcceleration:function(){},updateTrainStats:function(){},setBrake:function(){},restartGame:function(){}})),R=function(e){var t=e.children,n=Object(a.useReducer)(W,I),r=Object(O.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(E()()),s=Object(O.a)(o,2),l=s[0],d=s[1],u=c.initialised,p=c.isDead;Object(a.useEffect)((function(){u||function(){var e=Object(f.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(c.gridSize);case 2:t=e.sent,n=t.gameMap,a=t.gameState,i({type:"INITIALISE",payload:{gameMap:n,gameState:a}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();window.requestAnimationFrame((function(e){var t=E()(e);u&&!p&&i({type:"UPDATE_GAME_LOOP",payload:{deltaTime:(t-l)/1e3}});D&&d(t)}))}),[l]),Object(a.useEffect)((function(){return window.addEventListener("keypress",(function(e){i({type:"HANDLE_KEYPRESS",payload:{keypress:e.key}})})),function(){D=!1}}),[]);return Object(z.jsx)(_.Provider,{value:Object(m.a)(Object(m.a)({},c),{},{updateAcceleration:function(e){return i({type:"UPDATE_TRAIN_STATS",payload:{acceleration:e}})},updateTrainStats:function(e){return i({type:"UPDATE_TRAIN_STATS",payload:e})},setBrake:function(e){return i({type:"UPDATE_TRAIN_STATS",payload:{brake:e}})},restartGame:function(){return i({type:"RESTART_GAME"})}}),children:t})},L=_,B=function(){return Object(a.useContext)(L)},F=function(){var e=Object(a.useState)({width:0,height:0}),t=Object(O.a)(e,2),n=t[0],r=t[1];return Object(a.useLayoutEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},P=n(131),G=Object(j.a)((function(){return{drawer:{width:0}}})),U=function(){var e=G();return Object(z.jsx)(P.a,{anchor:"left",classes:{paper:e.drawer},open:!0,variant:"persistent",children:"TEST"})},H=n(122),K=n(100),V=n(27),Y=n(128),J=n(121),q=["value","label","labelMinWidth","suffix"],Q=function(e){var t=e.value,n=e.label,a=e.labelMinWidth,r=void 0===a?35:a,c=e.suffix,i=Object(V.a)(e,q);return Object(z.jsxs)(Y.a,{display:"flex",alignItems:"center",children:[Object(z.jsx)(Y.a,{width:"100%",mr:1,children:Object(z.jsx)(J.a,Object(m.a)({variant:"determinate",value:t},i))}),Object(z.jsx)(Y.a,{minWidth:r,children:Object(z.jsxs)(K.a,{variant:"body2",color:"textSecondary",children:[n&&"".concat(n).concat(c||"%"),!n&&"".concat(t).concat(c||"%")]})})]})},X=Object(j.a)((function(e){return{topBar:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,height:120,paddingLeft:0,width:"100%"},container:{padding:8,marginLeft:16},gridItem:{minWidth:150,width:"80%"}}})),Z=function(){var e=X(),t=B().playerTrainStats,n=t||{},a=n.energy,r=void 0===a?0:a,c=n.maxenergy,i=void 0===c?0:c,o=n.oxygen,s=void 0===o?0:o,l=n.maxoxygen,d=void 0===l?0:l,u=n.speed,p=void 0===u?0:u,b=n.decceleration,x=n.maxSpeed;return Object(z.jsx)("div",{className:e.topBar,children:t&&Object(z.jsxs)(H.a,{className:e.container,container:!0,spacing:3,children:[Object(z.jsx)(H.a,{item:!0,xs:4,children:Object(z.jsxs)("div",{className:e.gridItem,children:[Object(z.jsx)(K.a,{children:"Energy"}),Object(z.jsx)(Q,{value:r/i*100,label:"".concat(r.toFixed(2)," / ").concat(i),suffix:" J",labelMinWidth:100}),Object(z.jsx)(K.a,{children:"Oxygen"}),Object(z.jsx)(Q,{value:s/d*100,label:"".concat(s.toFixed(2)," / ").concat(d),suffix:" m3",labelMinWidth:100})]})}),Object(z.jsx)(H.a,{item:!0,xs:4,children:Object(z.jsxs)("div",{className:e.gridItem,children:[Object(z.jsx)(K.a,{children:"Speed"}),Object(z.jsx)(Q,{value:p/x*100,label:p.toFixed(2),suffix:"kmh"})]})}),Object(z.jsxs)(H.a,{item:!0,xs:4,children:["TEST2"," ".concat(b)]})]})})},$=n(63),ee=n.n($),te=n(123),ne=n(129),ae=Object(j.a)((function(){return{dialog:{height:"60vh","& .MuiDialog-paper":{alignItems:"center",backgroundColor:"transparent"}},gameOverText:{margin:16},restartButton:{width:48,height:48,fontWeight:"bolder"}}})),re=function(e){var t=e.open,n=void 0===t||t,a=e.onConfirm,r=void 0===a?function(){}:a,c=ae();return Object(z.jsxs)(te.a,{className:c.dialog,open:n,children:[Object(z.jsx)(K.a,{className:c.gameOverText,variant:"h3",children:"GAME OVER!"}),Object(z.jsx)(ne.a,{className:c.restartButton,onClick:r,children:Object(z.jsx)(ee.a,{className:c.restartButton})})]})},ce=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100vh",overflow:"hidden",width:"100%"},wrapper:{display:"flex",overflow:"hidden",height:"calc(100% - ".concat(110,"px)"),paddingLeft:0},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),ie=function(e){var t=e.children,n=ce(),a=B(),r=a.isDead,c=a.restartGame,i=F(),o=Math.max(i.height,500),s=Math.max(i.width,500);return Object(z.jsxs)("div",{className:n.root,style:{height:o,width:s},children:[Object(z.jsx)(re,{open:r,onConfirm:function(){return c()}}),Object(z.jsx)(U,{}),Object(z.jsx)(Z,{}),Object(z.jsx)("div",{className:n.wrapper,children:Object(z.jsx)("div",{className:n.contentContainer,children:Object(z.jsx)("div",{className:n.content,children:t})})})]})},oe=n(132),se=Object(j.a)((function(){return Object(oe.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{height:"100%",width:"100%"},"#root":{height:"100%",width:"100%"}}})})),le=function(){return se(),null},de=n(126),ue=n(64),pe=["children","title"],be=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.title,r=void 0===a?"":a,c=Object(V.a)(e,pe);return Object(z.jsxs)("div",Object(m.a)(Object(m.a)({ref:t},c),{},{children:[Object(z.jsx)(ue.Helmet,{children:Object(z.jsx)("title",{children:r})}),n]}))})),xe=n(6),je=n.n(xe),he=function(e,t,n,a,r,c){var i=Object(s.clamp)(e.width+t,100,r),o=Object(s.clamp)(e.height+t,100,c);if(i===e.width||o===e.height)return e;var l=n-e.x,d=a-e.y;l=l/i*t,d=d/o*t;var u=Object(s.clamp)(e.x-l,-1,r-i),p=Object(s.clamp)(e.y-d,-1,c-o);return Object(m.a)(Object(m.a)({},e),{},{width:i,height:o,x:u,y:p})},ge=function(e,t,n,a,r){var c=Object(s.clamp)(e.x-t,-1,a-e.width),i=Object(s.clamp)(e.y-n,-1,r-e.height);return Object(m.a)(Object(m.a)({},e),{},{x:c,y:i})},fe=r.a.memo((function(e){for(var t=e.cols,n=e.rows,a=e.gridSize,r=[],c=0;c<t;c++)for(var i=0;i<n;i++)r.push(Object(z.jsx)("rect",{x:c*a,y:i*a,width:a,height:a,style:{fillOpacity:"0",stroke:"#1c2025",strokeWidth:"1px"}},"".concat(c," ").concat(i)));return Object(z.jsx)(z.Fragment,{children:r})}));fe.propTypes={cols:je.a.number,rows:je.a.number,gridSize:je.a.number};var Oe=function(e){var t=e.cols,n=e.rows,r=e.gridSize,c=e.children,i=e.height,o=void 0===i?"80vh":i,s=e.width,l=void 0===s?"80vw":s,d=Object(a.useState)(null),u=Object(O.a)(d,2),p=u[0],b=u[1],x=Object(a.useState)(),j=Object(O.a)(x,2),h=j[0],g=j[1],f=t*r+2,m=n*r+2;Object(a.useEffect)((function(){return g({x:0,y:0,width:t*r+2,height:n*r+2})}),[t,n]);var v=function(e){if("mousedown"===e.type)b(!0);else if("mousemove"===e.type&&p){var t=e.movementX,n=e.movementY,a=ge(h,t,n,f,m);g(a)}else"mouseup"===e.type&&b(null)};return Object(z.jsxs)("svg",{height:o,width:l,viewBox:h&&"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),onWheel:function(e){var t=e.deltaY,n=e.target,a=he(h,t,n.x.animVal.value,n.y.animVal.value,f,m);g(a)},onMouseDown:v,onMouseMove:v,onMouseUp:v,children:[Object(z.jsx)("rect",{x:"0",y:"0",width:f,height:m,style:{fill:"#54575b",stroke:"green",strokeWidth:"1px"}}),Object(z.jsxs)("g",{transform:"translate(1,1)",children:[Object(z.jsx)(fe,{rows:n,cols:t,gridSize:r}),c]})]})},me=function(e){var t=e.trainComponent,n=t.x,a=t.y;return Object(z.jsx)("g",{transform:"translate(".concat(n,", ").concat(a,")"),children:Object(z.jsx)("use",{href:"/sprites/trains/head.svg#head1"})})},ve=function(e){var t=e.train;return Object(z.jsx)(z.Fragment,{children:t.map((function(e){return Object(z.jsx)(me,{trainComponent:e},"".concat(e.id))}))})},ye=function(e){var t=e.gridSize,n=e.tile,a=n.col,r=n.row,c=n.type,i=n.name,o=a*t,s=r*t,l="/sprites/".concat(c,"/").concat(i,".svg#").concat(i);return Object(z.jsx)("g",{transform:"translate(".concat(o,", ").concat(s,")"),children:Object(z.jsx)("use",{href:l})})},we=r.a.memo((function(e){var t=e.gridSize,n=e.tiles;return Object(z.jsx)(z.Fragment,{children:n.map((function(e){return Object(z.jsx)(ye,{gridSize:t,tile:e},"".concat(e.type,"_").concat(e.name,"_").concat(e.col,"_").concat(e.row))}))})})),Se=Object(j.a)((function(){return{root:{height:"100%"}}})),Te=function(e){var t=Object.assign({},e),n=Se(),a=B(),r=a.gridSize,c=a.gameMap,i=a.playerTrain,o=c.tiles;return Object(z.jsx)("div",{className:n.root,children:Object(z.jsxs)(Oe,Object(m.a)(Object(m.a)({},t),{},{height:"100%",width:"100%",cols:c.cols,rows:c.rows,gridSize:r,children:[Object(z.jsx)(we,{gridSize:r,tiles:o}),i&&Object(z.jsx)(ve,{train:i})]}))})},ke=n(133),Ee=["value","label","onChange","min","max","step","suffix"],Ae=function(e){var t=e.value,n=e.label,a=e.onChange,r=e.min,c=e.max,i=e.step,o=e.suffix,s=Object(V.a)(e,Ee);return Object(z.jsxs)(Y.a,{display:"flex",alignItems:"center",children:[Object(z.jsx)(Y.a,{width:"100%",mr:1,children:Object(z.jsx)(ke.a,Object(m.a)({defaultValue:0,step:i||.1,value:t,marks:!0,min:r||0,max:c||100,valueLabelDisplay:"off",onChange:function(e,t){return a(t)}},s))}),Object(z.jsx)(Y.a,{minWidth:35,children:Object(z.jsxs)(K.a,{variant:"body2",color:"textSecondary",children:[n&&"".concat(n).concat(o||"%"),!n&&"".concat(t).concat(o||"%")]})})]})},Me=n(124),Ne=n(125),Ce=n(134),ze=["checked","label","onChange"],De=function(e){var t=e.checked,n=e.label,a=e.onChange,r=Object(V.a)(e,ze);return Object(z.jsx)(Me.a,{children:Object(z.jsx)(Ne.a,Object(m.a)({label:n,onChange:function(e){return a(e.target.checked)},control:Object(z.jsx)(Ce.a,{checked:t})},r))})},Ie=Object(j.a)((function(e){return{panel:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,width:"100%",height:"100%",padding:8,paddingLeft:16},speedBar:{padding:16}}})),We=function(){var e=Ie(),t=B(),n=t.playerTrainStats,a=t.updateAcceleration,r=t.updateTrainStats,c=t.setBrake,i=n||{},o=i.acceleration,s=void 0===o?0:o,l=i.maxAcceleration,d=void 0===l?0:l,u=i.brake,p=void 0!==u&&u,b=i.emergencyMode,x=void 0!==b&&b;return Object(z.jsx)("div",{className:e.panel,children:Object(z.jsxs)(H.a,{container:!0,spacing:3,children:[Object(z.jsx)(H.a,{item:!0,xs:4,children:Object(z.jsxs)("div",{className:e.speedBar,children:[Object(z.jsx)(K.a,{children:"Acceleration (Q / E)"}),Object(z.jsx)(Ae,{value:s,min:0,max:d,label:s.toFixed(1),onChange:a,step:.05,suffix:"kmh2"})]})}),Object(z.jsx)(H.a,{item:!0,xs:2,children:Object(z.jsxs)("div",{className:e.speedBar,children:[Object(z.jsx)(K.a,{children:"Brake (R)"}),Object(z.jsx)(De,{checked:p,onChange:c})]})}),Object(z.jsx)(H.a,{item:!0,xs:2,children:Object(z.jsxs)("div",{className:e.speedBar,children:[Object(z.jsx)(K.a,{children:"E-Mode (T)"}),Object(z.jsx)(De,{checked:x,onChange:function(e){return r({emergencyMode:e})}})]})})]})})},_e=Object(j.a)((function(){return{page:{height:"100%",overflow:"hidden"},box:{marginTop:"0",height:"calc(100% - 256px)"},container:{height:"100%"}}})),Re=function(){var e=_e();return Object(z.jsx)(be,{className:e.page,children:Object(z.jsxs)(Y.a,{className:e.box,mt:3,children:[Object(z.jsx)(de.a,{className:e.container,children:Object(z.jsx)(Te,{})}),Object(z.jsx)(We,{})]})})};var Le=function(){var e=x({direction:"ltr",responsiveFontSizes:!0,theme:"ONE_DARK"});return Object(z.jsx)(o.a,{theme:e,children:Object(z.jsxs)(R,{children:[Object(z.jsx)(le,{}),Object(z.jsx)(ie,{children:Object(z.jsx)(Re,{})})]})})};i.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(Le,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.78009e4f.chunk.js.map